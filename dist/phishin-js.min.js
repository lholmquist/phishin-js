/*! phishin-js - 0.0.2 - 2017-07-28 */
var Phish={};Phish.Phishin=function(a){if(!(this instanceof Phish.Phishin))return new Phish.Phishin(a);var b="http://phish.in/api/v1/";return["Eras","Years","Songs","Tours","Shows","Tracks","Venues"].forEach(function(a){this["get"+a]=function(b,c){return this._get(a.toLowerCase(),b,c)}}.bind(this)),this._get=function(a,c,d){var e,f,g=this;return e=f=b+a+(c?"/"+c+"/":"/"),d&&(e=f+"?"+d.join("&")),Phish.fetch(e).then(function(b){return["next","previous"].forEach(function(d){b[d]=function(){return function(){if(b.page===b.total_pages)return Promise.resolve(null);var e=b.page;return"next"===d?e++:e--,b.page<1?Promise.resolve(null):g._get(a,c,["page="+e])}}()}),b})},this},Phish.fetch=function(a){return new Promise(function(b,c){var d=new XMLHttpRequest;d.open("GET",a,!0),d.responseType="json",d.setRequestHeader("Accept","application/json"),d.onload=function(){var a=d.response;return d.status>399?c(d):b(a)},d.onerror=function(){return c(d)},d.send()})};